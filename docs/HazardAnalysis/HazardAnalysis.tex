\documentclass{article}

\usepackage{booktabs}
\usepackage{tabularx}
\usepackage{hyperref}
\usepackage{pdflscape}
\usepackage[longtable]{multirow}
\usepackage{longtable}
\usepackage{vcell}
\usepackage{geometry}
\hypersetup{
    colorlinks=true,       % false: boxed links; true: colored links
    linkcolor=red,          % color of internal links (change box color with linkbordercolor)
    citecolor=green,        % color of links to bibliography
    filecolor=magenta,      % color of file links
    urlcolor=cyan           % color of external links
}

\title{Hazard Analysis\\\progname}

\author{\authname}

\date{}

\input{../Comments}
\input{../Common}

\begin{document}

\maketitle
\thispagestyle{empty}

~\newpage

\pagenumbering{roman}

\begin{table}[hp]
\caption{Revision History} \label{TblRevisionHistory}
\begin{tabularx}{\textwidth}{llX}
\toprule
\textbf{Date} & \textbf{Developer(s)} & \textbf{Change}\\
\midrule
10/14/22 & Azriel G. & Added sections 1, 2, and 3\\
Date2 & Name(s) & Description of changes\\
... & ... & ...\\
\bottomrule
\end{tabularx}
\end{table}

~\newpage

\tableofcontents

~\newpage

\pagenumbering{arabic}

\section{Introduction}
This document is the hazard analysis for the entirety of Synesthesia Wear.
For context, Synesthesia Wear is an inexpensive and non-intrusive hearing aid 
bracelet with a purpose of improving quality of life by providing users with 
an alternate channel for sound recognition within their surroundings. Furthermore, 
this bracelet will have a corresponding application that will be made to be 
user-friendly so that users can easily access and configure their bracelets to 
whatever settings they so desire. Lastly, for the purposes of this document, the 
Synesthesia Wear developers believe that the definition of a hazard is one that is 
derived from Nancy Leveson's work. With that in mind, a hazard is any property or 
condition within the Synesthesia Wear system where after pairing up with any 
conditions in the environment, a potential for loss to the system now exists.

\section{Scope and Purpose of Hazard Analysis}
The scope of this document is to identify any and all possible hazards within 
the system, clarify the mitigation steps of each identified hazard, determine 
the causes and effects of all failures, and define all safety and security requirements 
that have resulted from the overall analysis.

\section{System Boundaries and Components}
The hazard analysis will be conducted on the Synesthesia Wear system which will be 
comprised of the following components:
\begin{enumerate}
    \item The Bracelet which also consists of:
    \begin{enumerate}
        \item Vibration Motor
        \item Sound Sensor
        \item Microcontroller
    \end{enumerate}
    \item The Application to be installed on the users' devices which consists of:
    \begin{enumerate}
        \item User Interface
        \item Bracelet Settings Configuration
    \end{enumerate}
    \item The Device that runs the application
    \begin{enumerate}
        \item Operating System
    \end{enumerate}
\end{enumerate}

With the above in mind, the system boundary is limited to the above 3 components with 
each having their own respective subcomponents. Furthermore, it is important to note 
that not all components in the above list can be controlled (i.e. Device's Operating 
System) by the Synesthesia Wear developers. However, these components still needed to 
be listed down in the system boundary as the potential for a hazard can still be 
correlated to them.

\section{Critical Assumptions}

CA1. The battery will not need to be replaced during product lifespan
\\CA2. Signal input devices will be consistent with the results they produce
\\CA3. Software application failure will not diminish usage of product 
\\CA4. Failure of one electrical components will allow user to continue use of product

\section{Failure Mode and Effect Analysis}
\newgeometry{left=2.5cm,bottom=2.5cm,right=2.5cm,top=2.5cm}
\begin{landscape}
    \begin{longtable}{|p{1.5cm}|p{2cm}|p{2cm} p{2cm} p{5cm} p{5cm} p{1cm} p{0.5cm} p{0.9cm}|} 
    \hline
    \multicolumn{9}{|l|}{\vcell{\begin{tabular}[b]{@{}l@{}}System: Wearable Device\\Phase/Mode: System Requirements\end{tabular}}}                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           \\*[-\rowheight]
    \multicolumn{9}{|l|}{\printcelltop}                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      \endfirsthead 
    \hline
    \vcell{\vspace{0.1cm}Sub System}                & \vcell{Design Function}                                                                   & \vcell{Failure Mode}                                                                                         & \vcell{Effects of Failure}                                                                                                                                                           & \vcell{Causes of Failure}                                                                                                                                                                                                                                                                                                                                                & \vcell{Recommended actions}                                                                                                                                                                                                                                                                                                                                     & \vcell{RPN} & \vcell{SR}    & \vcell{Ref.}   \\*[-\rowheight]
    \printcelltop                     & \printcelltop                                                                             & \printcelltop                                                                                                & \printcelltop                                                                                                                                                                         & \printcelltop                                                                                                                                                                                                                                                                                                                                                             & \printcelltop                                                                                                                                                                                                                                                                                                                                                   & \printcelltop                      & \printcelltop & \printcelltop  \\* 
    \hline
    Battery                           & Power the various components of the device                              & \vcell{Battery stops delivering power to the device} & \vcell{Device loses all functionalities~}                                                                                                                                             & \vcell{\begin{enumerate} \item Battery was not charged. \item Battery fails and stops holding charge. \item Battery gets disconnected from the controller\end{enumerate}}                                                                                                                                                                                                           & \vcell{\begin{enumerate} \item Inform users of best-charging practices to avoid battery failure i.e (only charge to 80\%, don't leave it plugged in when the battery is full, etc.) \item The microcontroller should throw an error code if it detects battery disconnection \item Have a CMOS battery in the Microcontroller in case of power loss\end{enumerate}} & \vcell{}                           & \vcell{}      & \vcell{H1-1}   \\*[-\rowheight]
                                      &                                                                                           & \printcelltop                                                                                                & \printcelltop                                                                                                                                                                         & \printcelltop                                                                                                                                                                                                                                                                                                                                                             & \printcelltop                                                                                                                                                                                                                                                                                                                                                   & \printcelltop                      & \printcelltop & \printcelltop  \\* 
    \cline{3-9}
                                      &                                                                                           & \vcell{Battery supplies incorrect power}                                                                     & \vcell{\begin{tabular}[b]{@{}l@{}}Devices may lose some functionality or may work incorrectly.~\\The internal components may get damaged.~\end{tabular}}                              & \vcell{\begin{tabular}{@{\labelitemi\hspace{\dimexpr\labelsep+0.5\tabcolsep}}l@{}}Battery Failure\\\begin{tabular}[b]{@{}l@{}}\\Low charge in the battery\end{tabular}\\\begin{tabular}[b]{@{}l@{}}\\Issue in the battery management system (BMS)\end{tabular}\end{tabular}}                                                                                              & \vcell{\begin{tabular}[b]{@{}l@{}}-Hardware should be able to cut off the battery in case of excess current draw.\\-Microcontroller can signal the user in case of low battery.\end{tabular}}                                                                                                                                                                   & \vcell{}                           & \vcell{}      & \vcell{H1-2}   \\*[-\rowheight]
                                      &                                                                                           & \printcelltop                                                                                                & \printcelltop                                                                                                                                                                         & \printcelltop                                                                                                                                                                                                                                                                                                                                                             & \printcelltop                                                                                                                                                                                                                                                                                                                                                   & \printcelltop                      & \printcelltop & \printcelltop  \\* 
    \cline{3-9}
                                      &                                                                                           & \vcell{Battery overheats}                                                                                    & \vcell{\begin{tabular}[b]{@{}l@{}}-Device container can melt\\-Battery can melt other components of wearable device\\-Burn the user\\-Damage future battery performance\end{tabular}} & \vcell{\begin{tabular}{@{\labelitemi\hspace{\dimexpr\labelsep+0.5\tabcolsep}}l@{}}Device operates in temperatures outside the operating conditions of the battery\\\begin{tabular}[b]{@{}l@{}}\\Battery failure\end{tabular}\\\begin{tabular}[b]{@{}l@{}}\\Excessive current draw\end{tabular}\\\begin{tabular}[b]{@{}l@{}}\\Loose connections\end{tabular}\end{tabular}} & \vcell{\begin{tabular}[b]{@{}l@{}}- Insure proper cooling or heat dissipation of the microcontroller\\- Refer to H1-2 a.\\- Install a battery that can operate in the working conditions of the device.\\- refer to H1-1 b.\end{tabular}}                                                                                                                       & \vcell{}                           & \vcell{}      & \vcell{H1-3}   \\*[-\rowheight]
                                      &                                                                                           & \printcelltop                                                                                                & \printcelltop                                                                                                                                                                         & \printcelltop                                                                                                                                                                                                                                                                                                                                                             & \printcelltop                                                                                                                                                                                                                                                                                                                                                   & \printcelltop                      & \printcelltop & \printcelltop  \\* 
    \hline
    \multirow{2}{*}{Microphone}       & \multirow{2}{*}{Sound detection}                                                          & \vcell{Sound is not detected}                                                                                & \vcell{-Device is not able to perform the primary function}                                                                                                                           & \vcell{\begin{tabular}{@{\labelitemi\hspace{\dimexpr\labelsep+0.5\tabcolsep}}l@{}}Loose connections\\\begin{tabular}[b]{@{}l@{}}\\Microphone is damaged\end{tabular}\end{tabular}}                                                                                                                                                                                        & \vcell{\begin{tabular}{@{\labelitemi\hspace{\dimexpr\labelsep+0.5\tabcolsep}}l@{}}Microcontroller can throw an error code in case of microphone disconnect.\\\begin{tabular}[b]{@{}l@{}}\\User can check the microphone output on the app to see if it is functioning correctly\end{tabular}\end{tabular}}                                                      & \vcell{}                           & \vcell{}      & \vcell{H2-1}   \\*[-\rowheight]
                                      &                                                                                           & \printcelltop                                                                                                & \printcelltop                                                                                                                                                                         & \printcelltop                                                                                                                                                                                                                                                                                                                                                             & \printcelltop                                                                                                                                                                                                                                                                                                                                                   & \printcelltop                      & \printcelltop & \printcelltop  \\* 
    \cline{3-9}
                                      &                                                                                           & \vcell{Sound is falsely detected}                                                                            & \vcell{-Device functions incorrectly}                                                                                                                                                 & \vcell{\begin{tabular}{@{\labelitemi\hspace{\dimexpr\labelsep+0.5\tabcolsep}}l@{}}Loose connections\\\begin{tabular}[b]{@{}l@{}}\\Microphone is damaged\end{tabular}\end{tabular}}                                                                                                                                                                                        & \vcell{\begin{tabular}{@{\labelitemi\hspace{\dimexpr\labelsep+0.5\tabcolsep}}l@{}}Refer to H2-1 b.\end{tabular}}                                                                                                                                                                                                                                                & \vcell{}                           & \vcell{}      & \vcell{H2-2}   \\*[-\rowheight]
                                      &                                                                                           & \printcelltop                                                                                                & \printcelltop                                                                                                                                                                         & \printcelltop                                                                                                                                                                                                                                                                                                                                                             & \printcelltop                                                                                                                                                                                                                                                                                                                                                   & \printcelltop                      & \printcelltop & \printcelltop  \\* 
    \hline
    \multirow{2}{*}{Bluetooth Module} & \multirow{2}{*}{Provide a communication stream between mobile phone and wearable device.} & \vcell{- Mobile device loses connection with~ bluetooth module}                                              & \vcell{\begin{tabular}[b]{@{}l@{}}-Sound processing capabilities are lost\\- Vibration motor wont receive signal to provide/not provide haptic feedback\end{tabular}}                 & \vcell{\begin{tabular}[b]{@{}l@{}}-Signal between mobile phone and~ device is lost due to higher than rated distances.\\-Signal is blocked due to external factors such as a faraday cage\\-Other signals such as wifi, microwave etc. cause interference with bluetooth signal\\-Connected phone loses power\end{tabular}}                                               & \vcell{\begin{tabular}[b]{@{}l@{}}-Provide a notification to the user when the signal strength is diminished\\-Include auto-reconnection with the device and phone when signal is found\\- Ensure final design of the product has adequate clearing for the bluetooth antennas such that it maximizes signal strength.\end{tabular}}                            & \vcell{}                           & \vcell{}      & \vcell{H3-1}   \\*[-\rowheight]
                                      &                                                                                           & \printcelltop                                                                                                & \printcelltop                                                                                                                                                                         & \printcelltop                                                                                                                                                                                                                                                                                                                                                             & \printcelltop                                                                                                                                                                                                                                                                                                                                                   & \printcelltop                      & \printcelltop & \printcelltop  \\* 
    \cline{3-9}
                                      &                                                                                           & \vcell{-Invalid message}                                                                                     & \vcell{-Unexpected or incorrect output from device}                                                                                                                                   & \vcell{\begin{tabular}[b]{@{}l@{}}-Message corrupted during transmission\\-Message corrupted during reception\end{tabular}}                                                                                                                                                                                                                                               & \vcell{\begin{tabular}[b]{@{}l@{}}- Add a checksum into the bluetooth signal to check for message integrity\\- Only accept predefined messages, discard foreign/ undefined messages\end{tabular}}                                                                                                                                                               & \vcell{}                           & \vcell{}      & \vcell{H3-2}   \\*[-\rowheight]
                                      &                                                                                           & \printcelltop                                                                                                & \printcelltop                                                                                                                                                                         & \printcelltop                                                                                                                                                                                                                                                                                                                                                             & \printcelltop                                                                                                                                                                                                                                                                                                                                                   & \printcelltop                      & \printcelltop & \printcelltop  \\* 
    \hline
    \multirow{3}{*}{Vibration Motor}  & \multirow{3}{*}{Provide haptic notification to user~}                                     & \vcell{Motor does not vibrate}                                                                               & \vcell{- User does not get alerted}                                                                                                                                                   & \vcell{\begin{tabular}[b]{@{}l@{}}-loose connections\\-defective vibration motor~\end{tabular}}                                                                                                                                                                                                                                                                           & \vcell{\begin{tabular}[b]{@{}l@{}}- Microcontroller can signal the user in case of motor disconnect\\- Refer to~ H4-2.\end{tabular}}                                                                                                                                                                                                                            & \vcell{}                           & \vcell{}      & \vcell{H4-2}   \\*[-\rowheight]
                                      &                                                                                           & \printcelltop                                                                                                & \printcelltop                                                                                                                                                                         & \printcelltop                                                                                                                                                                                                                                                                                                                                                             & \printcelltop                                                                                                                                                                                                                                                                                                                                                   & \printcelltop                      & \printcelltop & \printcelltop  \\* 
    \cline{3-9}
                                      &                                                                                           & \vcell{Incorrect vibration}                                                                                  & \vcell{-User incorrectly identifies the sound}                                                                                                                                        & \vcell{- defective vibration motor}                                                                                                                                                                                                                                                                                                                                       & \vcell{- User can calibrate the vibration intensity and check the output~}                                                                                                                                                                                                                                                                                      & \vcell{}                           & \vcell{}      & \vcell{H4-3}   \\*[-\rowheight]
                                      &                                                                                           & \printcelltop                                                                                                & \printcelltop                                                                                                                                                                         & \printcelltop                                                                                                                                                                                                                                                                                                                                                             & \printcelltop                                                                                                                                                                                                                                                                                                                                                   & \printcelltop                      & \printcelltop & \printcelltop  \\* 
    \cline{3-9}
                                      &                                                                                           & \vcell{Vibration too intense}                                                                                & \vcell{-Painful or annoying to the user}                                                                                                                                              & \vcell{- Motor drawing excess current}                                                                                                                                                                                                                                                                                                                                    & \vcell{\begin{tabular}[b]{@{}l@{}}- Refer to H4-3.\\- Hardware connection is current limited.\end{tabular}}                                                                                                                                                                                                                                                     & \vcell{}                           & \vcell{}      & \vcell{H4-4}   \\*[-\rowheight]
                                      &                                                                                           & \printcelltop                                                                                                & \printcelltop                                                                                                                                                                         & \printcelltop                                                                                                                                                                                                                                                                                                                                                             & \printcelltop                                                                                                                                                                                                                                                                                                                                                   & \printcelltop                      & \printcelltop & \printcelltop  \\
    \hline
    \end{longtable}
    
\end{landscape}
\restoregeometry
\wss{Include your FMEA table here}

\section{Safety and Security Requirements}

Bold statements are an extension of the SRS document safety requirements which should have been included in revision 1.

\subsection{System Isolation Requirements}

SIR1. Product is isolated from electrical components at contact locations
\\SIR2. Auto shut-off when water penetration detected

\subsection{Access Requirements}

\textbf{ACR1.} Authorized users can access preferred vibration/sensitivity settings through application site.
\\ACR2. Authorized users can retrain the watch through watch interface. 

\subsection{Integrity Requirements}

IR1. Only required variables will be given access to change
\\IR2. Data will be accessible by authorized users
\\\textbf{IR3.} After synchronization, a copy of data is loaded to system application   
\\IR4. No pairs of modes allowed identical settings
\\IR5. Stored data overridden only at synchronization request

\subsection{Privacy Requirements}

PPR1. Personalized access code will be created for user application accessibility 
\\PRR2. Data is not transferable between accounts
\\PRR3. Watch interface locked if user application connection not established


\section{Roadmap}

The requirements implemented according to the hardware research milestone created in the development plan are as listed are the following, system isolation requirements and privacy requirements. With access requirements, integrity requirements and privacy requirements being researched in the future development plan.

\end{document}